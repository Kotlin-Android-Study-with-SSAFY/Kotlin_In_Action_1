# 5-4. μλ°” ν•¨μν• μΈν„°νμ΄μ¤ ν™μ© Read.me

Date: 2025λ…„ 3μ›” 19μΌ
Status: ...Ready...

## 5-4. μλ°” ν•¨μν• μΈν„°νμ΄μ¤ ν™μ©

> **μ°λ¦¬κ°€ λ‹¤λ¤„μ•Ό ν•λ” API μ¤‘ μƒλ‹Ήμλ” μ½”ν‹€λ¦°μ΄ μ•„λ‹λΌ μλ°”λ΅ μ‘μ„±λ APIμΌ κ°€λ¥μ„±μ΄ λ†’λ‹¤.
λ‹¤ν–‰μΈ μ μ€ μ½”ν‹€λ¦° λλ‹¤λ¥Ό μλ°” APIμ— μ‚¬μ©ν•΄λ„ μ•„λ¬΄ λ¬Έμ κ°€ μ—†λ‹¤λ” μ‚¬μ‹¤μ΄λ‹¤.**
> 

π“¥Β  **setOnClickListener**

```java
**button.setOnCllickListener(/* ν΄λ¦­ μ‹ μ‹¤ν–‰ν•  λ™μ‘ */);**
```

- **λ²„νΌ(Button)μ„ ν΄λ¦­ν–μ„ λ• μ‹¤ν–‰ν•  λ™μ‘μ„ μ •ν•΄μ£ΌκΈ° μ„ν•΄ setOnClickListener λ©”μ„λ“λ¥Ό μ‚¬μ©**
- **setOnClickListener λ©”μ„λ“μ μΈμ(λ§¤κ°λ³€μ)λ΅ OnClickListener μΈν„°νμ΄μ¤ νƒ€μ…μ κ°μ²΄λ¥Ό λ„κ²¨μ¤μ•Ό ν•λ‹¤.**

π“¥Β **Button ν΄λμ¤**

```kotlin
**/* μλ°” */
public class Button{
	public void setOnClickListener(OnClickListener 1){...}
}**
```

π“¥Β  **OnClickListener μΈν„°νμ΄μ¤**Β 

```java
**public interface OnClickListener{
		void onClick(View v);
}**
```

- OnClickListenerλ” **`onClick(View v)`**λΌλ” λ©”μ†λ“λ§ μ„ μ–Έλ μΈν„°νμ΄μ¤
- λ²„νΌμ„ ν΄λ¦­ν–μ„ λ• μ‹¤ν–‰ν•  λ™μ‘μ„ μ •μν•λ ¤λ©΄ OnClickListenerλ¥Ό κµ¬ν„ν• κ°μ²΄λ¥Ό λ§λ“¤μ–΄μ•Ό ν•λ‹¤!

π“¥Β  **μλ°” 8 μ΄μ „μ λ°©μ‹(μµλ… ν΄λμ¤ μ‚¬μ©)**

```java
**button.setOnClickListener(new OnClickListener(){
	@Override
	public void onClick(View v){
			//λ²„νΌ ν΄λ¦­ μ‹ μ‹¤ν–‰ν•  μ½”λ“
			System.out.println("λ²„νΌμ΄ ν΄λ¦­λ¨!");
			}
	});**
```

- μλ°” 8 μ΄μ „μ—λ” μΈν„°νμ΄μ¤λ¥Ό μ§μ ‘ κµ¬ν„ν• μµλ… ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ„ λ²„νΌ ν΄λ¦­ μ΄λ²¤νΈλ¥Ό μ²λ¦¬ν–λ‹¤.
- **`new OnClickListener()`**β†’ OnClickListener μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” μµλ… ν΄λμ¤λ¥Ό λ§λ“¤μ—μ–΄
- **`onClick(View v)`**β†’ μ΄ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ“ν•΄μ„ λ²„νΌμ„ ν΄λ¦­ν–μ„ λ€ μ‹¤ν–‰ν•  λ™μ‘μ„ μ •μν• κ±°μ•Ό.

π“¥Β  **μ½”ν‹€λ¦°μ—μ„ λλ‹¤λ¥Ό μ‚¬μ©**

```kotlin
**button.setOnClickListener { view -> ... }**
```

- μ½”ν‹€λ¦°μ—μ„λ” λ¬΄λ… ν΄λμ¤ μΈμ¤ν„΄μ¤ λ€μ‹  λλ‹¤λ¥Ό λ„κΈΈ μ μλ‹¤.
- OnClickListenerλ¥Ό κµ¬ν„ν•κΈ° μ„ν•΄ μ‚¬μ©ν• λλ‹¤μ—λ” viewλΌλ” νλΌλ―Έν„°κ°€ μλ‹¤.
- viewμ νƒ€μ…μ€ View, μ΄λ” onClick λ©”μ†λ“μ μΈμ νƒ€μ…κ³Ό κ°™λ‹¤.

π“¥Β  **λλ‹¤μ νλΌλ―Έν„°λ” λ©”μ†λ“μ νλΌλ―Έν„°μ™€ λ€μ‘ν•λ‹¤.**

```kotlin
**public interface OnClickListener {
		void onClick(View v);            ->  { view -> ... }
}**
```

### ν•¨μν• μΈν„°νμ΄μ¤(Functional Interface)?

> **β€λ‹¨ ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ§ κ°€μ§€λ” μΈν„°νμ΄μ¤β€λ¥Ό λ»ν•κ³  
SAM(Single Abstract Method) μΈν„°νμ΄μ¤λΌκ³ λ„ λ¶€λ¥Έλ‹¤.**
> 
- **μλ°”μ—μ„ λ§μ΄ μ“°μ΄λ” λ€ν‘μ μΈ ν•¨μν• μΈν„°νμ΄μ¤λ“¤**
    - `Runnable` β†’ `run()` λ©”μ„λ“ ν• κ°λ§ μμ.
    - `Callable<T>` β†’ `call()` λ©”μ„λ“ ν• κ°λ§ μμ.
    - `ActionListener` β†’ `actionPerformed(ActionEvent e)` λ©”μ„λ“ ν• κ°λ§ μμ.
    
    ```java
    // Runnable μΈν„°νμ΄μ¤ (μλ°”)
    Runnable r = () -> System.out.println("μ“°λ λ“ μ‹¤ν–‰λ¨!");
    new Thread(r).start();
    ```
    
    ```kotlin
    // Runnableμ„ μ½”ν‹€λ¦°μ—μ„ λλ‹¤λ΅ μ‚¬μ©
    Thread { println("μ“°λ λ“ μ‹¤ν–‰λ¨!") }.start()
    ```
    

π“¥Β  **μλ°” 8 μ΄ν›„ λλ‹¤ ν‘ν„μ‹μΌλ΅ λ€μ²΄ κ°€λ¥**

```java
**button.setOnClickListener(v -> {
    System.out.println("λ²„νΌμ΄ ν΄λ¦­λ¨!");
});**
```

- μλ°” 8 μ΄ν›„ λλ‹¤ ν‘ν„μ‹μΌλ΅ λ€μ²΄ κ°€λ¥
- **`OnClickListener`**κ°€ λ‹¨μΌ μ¶”μƒ λ©”μ„λ“λ§ κ°€μ§„ μΈν„°νμ΄μ¤μ΄λ―€λ΅, λλ‹¤( **`() β†’ {}`** )λ΅ λ³€ν™ κ°€λ¥
- **`v -> { System.out.println("λ²„νΌμ΄ ν΄λ¦­λ¨!"); }`  β†’ `onClick(View v)`μ κµ¬ν„ λ‚΄μ©μ„ λλ‹¤λ΅ μ§μ ‘ μ „λ‹¬**

π“¥Β  **μ½”ν‹€λ¦°μ—μ„ λ” κ°„κ²°ν•κ² μ‚¬μ© κ°€λ¥**

```kotlin
button.setOnClickListener { view ->
    println("λ²„νΌμ΄ ν΄λ¦­λ¨!")
}
```

- μ½”ν‹€λ¦°μ€ μλ°”μ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μΈμλ΅ λ°›λ” λ©”μ„λ“λ¥Ό νΈμ¶ν•  λ• λλ‹¤λ¥Ό μ‚¬μ©ν•  μ μλ„λ΅ ν•¨
- μ¦‰, `setOnClickListener`λ¥Ό **λλ‹¤λ§μΌλ΅ ν‘ν„ν•  μ μκ² ν•΄μ¤.**
- `{ view -> println("λ²„νΌμ΄ ν΄λ¦­λ¨!") }`  β†’ `onClick(View v)`λ¥Ό **μλ™μΌλ΅ λλ‹¤λ΅ λ³€ν™**ν•΄μ„ μ‚¬μ© κ°€λ¥!

<aside>

**π“  β€μ½”ν‹€λ¦°μ—λ” ν•¨μ νƒ€μ…μ΄ μ΅΄μ¬ν•λ©°, ν•¨μν• μΈν„°νμ΄μ¤ λ€μ‹  ν•¨μ νƒ€μ…μ„ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤"**

</aside>

- μλ°”μ™€ μ½”ν‹€λ¦°μ ν•¨μ μ²λ¦¬ λ°©μ‹μ΄ λ‹¤λ¥΄λ‹¤.
- μ½”ν‹€λ¦°μ—λ” **ν•¨μ νƒ€μ…(Function Type)** μ΄ μ΅΄μ¬ν•κΈ° λ•λ¬Έμ—, **ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  ν•„μ”κ°€ μ—†λ‹¤.**
- μ½”ν‹€λ¦°μ€ **ν•¨μλ¥Ό κ°’μ²λΌ λ‹¤λ£° μ μμ** β†’ **ν•¨μ νƒ€μ…(Function Type) μ‚¬μ© κ°€λ¥**
- κ·Έλμ„ **μλ°”μ²λΌ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤ ν•„μ”κ°€ μ—†λ‹¤!**
- **λλ‹¤λ¥Ό ν•¨μμ μΈμλ΅ μ§μ ‘ μ „λ‹¬ν•  μ μλ‹¤.**

- **μλ°”μ—μ„λ” μ™ ν•¨μν• μΈν„°νμ΄μ¤κ°€ ν•„μ”ν• κΉ?**
    - μλ°”μ—λ” **"ν•¨μ μμ²΄λ¥Ό μ „λ‹¬ν•λ” κΈ°λ¥"** μ΄ μ—†μ–΄.
    - κ·Έλμ„ **λλ‹¤ ν‘ν„μ‹**μ„ μ‚¬μ©ν•λ ¤λ©΄ **λ°λ“μ‹ ν•¨μν• μΈν„°νμ΄μ¤κ°€ ν•„μ”ν•΄!**
    
    π“¥Β  **μλ°”μ—μ„ ν•¨μν• μΈν„°νμ΄μ¤ μ‚¬μ© μμ **
    
    ```java
    // ν•¨μν• μΈν„°νμ΄μ¤ μ •μ (SAM μΈν„°νμ΄μ¤)
    interface MyFunction {
        void run();
    }
    
    public class Main {
        public static void main(String[] args) {
            MyFunction f = () -> System.out.println("Hello, World!");
            f.run(); // μ¶λ ¥: Hello, World!
        }
    }
    
    ```
    
    - μλ°”μ—μ„λ” **λλ‹¤λ¥Ό μ‚¬μ©ν•λ ¤λ©΄ λ°λ“μ‹ ν•¨μν• μΈν„°νμ΄μ¤(SAM)λ¥Ό λ§λ“¤μ–΄μ•Ό ν•¨.**
    - `MyFunction` μΈν„°νμ΄μ¤ μ—†μ΄ `()->{}` λ¥Ό μ‚¬μ©ν•  μ μ—†μ!
- **μ½”ν‹€λ¦°μ—μ„λ” ν•¨μ νƒ€μ…μ΄ μ΅΄μ¬ν•λ‹¤!**
    - μ½”ν‹€λ¦°μ€ **"ν•¨μ μμ²΄λ¥Ό κ°’μΌλ΅ μ‚¬μ©ν•  μ μλ” κΈ°λ¥"μ΄ μμ!**
    - μ¦‰, **μ½”ν‹€λ¦°μ—μ„λ” ν•¨μν• μΈν„°νμ΄μ¤ μ—†μ΄λ„ λλ‹¤λ¥Ό μ§μ ‘ ν•¨μμ μΈμλ΅ μ „λ‹¬ κ°€λ¥!**
    
    π“¥.Β **μ½”ν‹€λ¦°μ—μ„ ν•¨μ νƒ€μ… μ‚¬μ© μμ **
    
    ```kotlin
    // ν•¨μ νƒ€μ…μ„ λ§¤κ°λ³€μλ΅ λ°›λ” ν•¨μ
    fun execute(action: () -> Unit) {
        action() // μ „λ‹¬λ°›μ€ ν•¨μλ¥Ό μ‹¤ν–‰
    }
    
    fun main() {
        execute { println("Hello, World!") }
    }
    
    ```
    
    - `() -> Unit` β†’ **ν•¨μλ¥Ό μΈμλ΅ λ°›λ” ν•¨μ νƒ€μ… μ„ μ–Έ**
    - `execute { println("Hello, World!") }` β†’ **ν•¨μν• μΈν„°νμ΄μ¤ μ—†μ΄ λλ‹¤ μ „λ‹¬ κ°€λ¥!**
- **μ½”ν‹€λ¦°μ€ μλ°” ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μλ™ λ³€ν™ν•΄μ£Όμ§€ μ•λ”λ‹¤**
    
    > μλ°”μ—μ„λ” **ν•¨μν• μΈν„°νμ΄μ¤κ°€ ν•„μμ **μ΄μ§€λ§,
    μ½”ν‹€λ¦°μ€ **ν•¨μ νƒ€μ…μ„ μ§μ ‘ μ‚¬μ©ν•  μ μκΈ° λ•λ¬Έμ— μλ™ λ³€ν™μ„ μ κ³µν•μ§€ μ•μ.**
    > 
    
    π“¥Β  **μμ : μλ°” μΈν„°νμ΄μ¤λ¥Ό μ½”ν‹€λ¦°μ—μ„ μ‚¬μ©ν•λ©΄?**
    
    ```java
    @FunctionalInterface
    interface ClickListener {
        void onClick();
    }
    
    public class Button {
        public void setOnClickListener(ClickListener listener) {
            listener.onClick();
        }
    }
    ```
    
    ```kotlin
    val button = Button()
    
    // μλ°” ν•¨μν• μΈν„°νμ΄μ¤μ—λ” λλ‹¤ μ‚¬μ© κ°€λ¥ (SAM λ³€ν™ μ§€μ›)
    button.setOnClickListener { println("λ²„νΌ ν΄λ¦­!") }
    ```
    
    - μ½”ν‹€λ¦°μ—μ„λ” **μλ°”μ ν•¨μν• μΈν„°νμ΄μ¤(SAM)λ¥Ό μλ™μΌλ΅ λλ‹¤λ΅ λ³€ν™ν•΄μ¤**
    - ν•μ§€λ§, **μ½”ν‹€λ¦°μ—μ„ μ •μν• ν•¨μ νƒ€μ…μ€ μλ°”μ ν•¨μν• μΈν„°νμ΄μ¤λ΅ μλ™ λ³€ν™λμ§€ μ•λ”λ‹¤!**

---

## 5.4.1 μλ°” λ©”μ†λ“μ— λλ‹¤λ¥Ό μΈμλ΅ μ—°κ²°

> ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μΈμλ΅ μ›ν•λ” μλ°” λ©”μ†λ“μ— μ½”ν‹€λ¦° λλ‹¤λ¥Ό μ „λ‹¬ν•  μ μλ‹¤.
μ½”ν‹€λ¦°μ—μ„λ” **μλ°”μ ν•¨μν• μΈν„°νμ΄μ¤(SAM μΈν„°νμ΄μ¤)λ¥Ό μ‚¬μ©ν•λ” λ©”μ†λ“**μ— λλ‹¤λ¥Ό μ§μ ‘ μ „λ‹¬ν•  μ μλ‹¤. 
μ΄ κ³Όμ •μ—μ„ μ»΄νμΌλ¬κ°€ μλ™μΌλ΅ λ¬΄λ… ν΄λμ¤λ¥Ό μƒμ„±ν•κ³  μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤μ–΄μ¤€λ‹¤.
> 

### **μλ°”μ—μ„ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μΈμλ΅ λ°›λ” λ©”μ„λ“**

> μλ°”μ—μ„λ” λλ‹¤ ν‘ν„μ‹μ„ μ§μ ‘ μ‚¬μ©ν•  μ μ—†κΈ° λ•λ¬Έμ— λ°λ“μ‹ ν•¨μν• μΈν„°νμ΄μ¤(SAM)μ„ κµ¬ν„ν• κ°μ²΄λ¥Ό μΈμλ΅ μ „λ‹¬ν•΄μ•Ό ν•λ‹¤.
> 

π“¥Β  **μλ°”μ—μ„ Runnableμ„ μΈμλ΅ λ°›λ” λ©”μ„λ“**

```java
**void postponeComputation(int delay, Runnable computation);**
```

- `Runnable`μ€ **SAM μΈν„°νμ΄μ¤ (λ‹¨ ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ§ μμ)**
- `computation` λ§¤κ°λ³€μλ” `Runnable` νƒ€μ…μ΄λ―€λ΅, **Runnableμ„ κµ¬ν„ν• κ°μ²΄λ¥Ό λ„κ²¨μ•Ό ν•¨.**

π“¥.Β **μλ°”μ—μ„ Runnableμ„ λ…μ‹μ μΌλ΅ λ„κΈ°λ” λ°©μ‹**

```java
postponeComputation(1000, new Runnable() {
    @Override
    public void run() {
        System.out.println(42);
    }
});
```

- μλ°”μ—μ„λ” λ³΄ν†µ **μµλ… ν΄λμ¤λ¥Ό μ‚¬μ©ν•΄μ„ Runnableμ„ λ„κ²¨μ•Ό ν•΄.**
- `new Runnable() { ... }` β†’ **μµλ… ν΄λμ¤λ΅ Runnableμ„ κµ¬ν„**
- `run()` λ©”μ„λ“ λ‚΄λ¶€μ—μ„ **μ‹¤μ λ΅ μ‹¤ν–‰λ  μ½”λ“(42 μ¶λ ¥)λ¥Ό μ‘μ„±**

π“¥Β  **μ½”ν‹€λ¦°μ—μ„ λλ‹¤λ΅ λ³€ν™ν•κΈ°** 

```kotlin
postponeComputation(1000) { println(42) }
```

- μ½”ν‹€λ¦°μ—μ„λ” μλ°”μ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ§μ ‘ λλ‹¤λ΅ μ „λ‹¬ κ°€λ¥!
- `{ println(42) }` β†’ **λλ‹¤λ¥Ό λ°”λ΅ μΈμλ΅ μ „λ‹¬!**
- `Runnable`μ΄ ν•„μ”ν• κ³³μ— **μ»΄νμΌλ¬κ°€ μλ™μΌλ΅ Runnableμ„ κµ¬ν„ν• κ°μ²΄λ΅ λ³€ν™ν•΄μ¤.**
- μλ™μΌλ΅ Runnable μΈμ¤ν„΄μ¤(Runnableμ„ κµ¬ν„ν• λ¬΄λ… ν΄λμ¤μ μΈμ¤ν„΄μ¤)λ΅ λ³€ν™ν•΄μ¤

π“¥.Β **μ½”ν‹€λ¦°μ—μ„ λ¬΄λ… κ°μ²΄λ¥Ό λ…μ‹μ μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤.** 

```kotlin
postponeComputation(1000, object : Runnable {
    override fun run() {
        println(42)
    }
})
```

- μ½”ν‹€λ¦°μ—μ„λ„ **μµλ… κ°μ²΄λ¥Ό μ§μ ‘ λ§λ“¤μ–΄μ„ μ‚¬μ©ν•  μ μμ–΄.**
- `object : Runnable { ... }` β†’ **λ…μ‹μ μΌλ΅ λ¬΄λ… κ°μ²΄ μƒμ„±**
- **μλ°”μ—μ„ μµλ… ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ” κ²ƒκ³Ό κ°™μ€ λ°©μ‹μ΄μ§€λ§,** μ½”ν‹€λ¦°μ—μ„λ” ν•„μ”ν•μ§€ μ•λ‹¤!

### **λλ‹¤μ™€ λ¬΄λ… κ°μ²΄μ μ°¨μ΄μ **

- λλ‹¤λ” **μ»΄νμΌλ¬κ°€ μλ™ λ³€ν™ν•μ—¬ μ¬μ‚¬μ©ν•  μ μλ‹¤. (μΈμ¤ν„΄μ¤ λ‹¨ ν•λ‚λ§ λ§λ“¤μ–΄μ§)**
- μ¦‰, λλ‹¤μ— λ€μ‘ν•λ” λ¬΄λ… κ°μ²΄λ¥Ό λ©”μ†λ“λ¥Ό νΈμ¶ν•  λ•λ§λ‹¤ λ°λ³µ μ‚¬μ©ν•λ‹¤.
- λ¬΄λ… κ°μ²΄λ” **λ©”μ„λ“λ¥Ό νΈμ¶ν•  λ•λ§λ‹¤ μƒλ΅μ΄ μΈμ¤ν„΄μ¤κ°€ μƒμ„±λλ‹¤.**

π“¥Β **μ°¨μ΄μ  μμ **

```kotlin
**val runnable = Runnable { println(42) } // λ‹¨ ν•λ‚μ μΈμ¤ν„΄μ¤λ§ μ΅΄μ¬

fun handleComputation() {
    postponeComputation(1000, runnable) // κ°™μ€ κ°μ²΄λ¥Ό κ³„μ† μ‚¬μ©
}**
```

- `Runnable` κ°μ²΄λ¥Ό λ³€μμ— μ €μ¥ν•λ©΄ **ν”„λ΅κ·Έλ¨ μ „μ²΄μ—μ„ κ°™μ€ μΈμ¤ν„΄μ¤λ¥Ό μ‚¬μ©!**

λ°λ©΄, λλ‹¤κ°€ **μ£Όλ³€ λ³€μλ¥Ό ν¬νν•λ©΄** λ§¤λ² μƒλ΅μ΄ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•΄!

```kotlin
fun handleComputation(id: String) { //λλ‹¤ μ•μ—μ„ "id" λ³€μλ¥Ό ν¬νν•λ‹¤. 
    postponeComputation(1000) { println(id) } // νΈμ¶ν•  λ•λ§λ‹¤ μƒλ΅μ΄ κ°μ²΄ μƒμ„±
}
```

- **λ³€μλ¥Ό ν¬νν•λ‹¤?**
    
    > μ½”ν‹€λ¦°μ—μ„λ” **λλ‹¤ λ‚΄λ¶€μ—μ„ μ™Έλ¶€ λ³€μ(μ£Όλ³€ λ³€μ)λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.** 
    μ΄λ• **λλ‹¤λ” μ™Έλ¶€ λ³€μλ¥Ό μ§μ ‘ μ°Έμ΅°ν•λ” κ²ƒμ΄ μ•„λ‹λΌ, κ·Έ λ³€μλ¥Ό ν¬ν•¨ν•λ” μƒλ΅μ΄ κ°μ²΄λ¥Ό μƒμ„±ν•λ”λ°,**  μ΄λ¥Ό **"λ³€μλ¥Ό ν¬ν(Capture)ν•λ‹¤"**λΌκ³  ν•λ‹¤!
    > 
- `{ println(id) }` β†’ **λλ‹¤κ°€ `id` λ³€μλ¥Ό ν¬ν**
- νΈμ¶ν•  λ•λ§λ‹¤ **μƒλ΅μ΄ Runnable μΈμ¤ν„΄μ¤κ°€ λ§λ“¤μ–΄μ§!**

### **μ½”ν‹€λ¦°μ λλ‹¤ κµ¬ν„ λ°©μ‹: λ¬΄λ… ν΄λμ¤ vs μΈλΌμΈ(inline) μµμ ν™”**

 **λλ‹¤λ¥Ό λ¬΄λ… ν΄λμ¤(Anonymous Class)λ΅ λ³€ν™ν•λ” κ³Όμ •κ³Ό μµμ ν™” λ°©λ²•**μ„ λ‹¤λ£¨κ³  μμ–΄.

 **λλ‹¤λ” λ¬΄λ… ν΄λμ¤λ΅ λ³€ν™λλ‹¤ β†’** μ½”ν‹€λ¦°μ—μ„ **λλ‹¤λ” μ‚¬μ‹¤μƒ μµλ… ν•¨μ**μ•Ό.

μ¦‰, μ»΄νμΌλ  λ• **λ¬΄λ… ν΄λμ¤λ΅ λ³€ν™λμ–΄ κ°μ²΄κ°€ μƒμ„±λλ‹¤.**

π“¥Β Β **λλ‹¤λ¥Ό ν¬ν•¨ν• μ½”λ“**

```kotlin
fun handleComputation(id: String) {
    postponeComputation(1000) { println(id) }
}
```

- `{ println(id) }` β†’ λλ‹¤ μ‚¬μ©
- μ»΄νμΌλ¬λ” μ΄ λλ‹¤λ¥Ό **Runnableμ„ κµ¬ν„ν• μµλ… ν΄λμ¤λ΅ λ³€ν™**ν•΄.

**λλ‹¤λ¥Ό λ¬΄λ… ν΄λμ¤λ΅ λ³€ν™ν•λ” λ°©μ‹**

- μ»΄νμΌλ¬λ” **λλ‹¤λ¥Ό ν¬ν•¨ν•λ” λ¬΄λ… ν΄λμ¤λ¥Ό μƒμ„±**ν•κ³ ,
- ν•΄λ‹Ή ν΄λμ¤μ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤μ–΄μ„ λ©”μ„λ“μ— λ„κΈ΄λ‹¤.

π“¥Β  **λ³€ν™λ μ½”λ“ (μ»΄νμΌ ν›„ μμƒλλ” μ½”λ“)**

```kotlin
class HandleComputationS1(val id: String) : Runnable {
    override fun run() {
        println(id)
    }
}

fun handleComputation(id: String) {
    postponeComputation(1000, HandleComputationS1(id))
}

```

- `HandleComputationS1` β†’ `Runnable`μ„ κµ¬ν„ν• **μƒλ΅μ΄ ν΄λμ¤κ°€ μλ™ μƒμ„±λ¨.**
- λλ‹¤ λ‚΄λ¶€μ—μ„ **μ™Έλ¶€ λ³€μ(`id`)λ¥Ό μ‚¬μ©ν•λ©΄ ν•„λ“λ΅ μ €μ¥ν•΄μ•Ό ν•¨.**
- λ”°λΌμ„ **νΈμ¶ν•  λ•λ§λ‹¤ μƒλ΅μ΄ κ°μ²΄κ°€ μƒμ„±λ¨!**

**λλ‹¤κ°€ μ™Έλ¶€ λ³€μλ¥Ό ν¬νν•λ©΄?**

- λλ‹¤κ°€ **μ™Έλ¶€ λ³€μλ¥Ό μ‚¬μ©(ν¬ν)** ν•λ©΄,
- μ»΄νμΌλ¬λ” ν•΄λ‹Ή λ³€μλ¥Ό **μ €μ¥ν•  ν•„λ“λ¥Ό κ°€μ§„ μƒλ΅μ΄ λ¬΄λ… ν΄λμ¤**λ¥Ό μƒμ„±ν•΄.

π“¥Β  **λλ‹¤κ°€ μ™Έλ¶€ λ³€μλ¥Ό ν¬νν•λ” κ²½μ°**

```kotlin
fun handleComputation(id: String) {
    postponeComputation(1000) { println(id) } // idλ¥Ό ν¬ν
}
```

- `id` λ³€μλ¥Ό μ‚¬μ©ν–κΈ° λ•λ¬Έμ— **idλ¥Ό μ €μ¥ν•  ν•„λ“κ°€ μλ” ν΄λμ¤κ°€ μƒμ„±λ¨.**
- κ·Έλ¦¬κ³  **handleComputation("Hello")** λ¥Ό νΈμ¶ν•  λ•λ§λ‹¤ **μƒλ΅μ΄ κ°μ²΄κ°€ μƒμ„±λ¨.**

**μµμ ν™”: μ½”ν‹€λ¦°μ inline ν•¨μ**

- μ½”ν‹€λ¦°μ—μ„λ” **inline ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•λ©΄ λ¬΄λ… ν΄λμ¤λ¥Ό λ§λ“¤μ§€ μ•κ³  μµμ ν™”ν•  μ μμ–΄!**
- μ¦‰, **λ¬΄λ… ν΄λμ¤λ¥Ό μƒμ„±ν•λ” λ€μ‹ , ν•¨μ μμ²΄λ¥Ό λ³µμ‚¬ν•΄μ„ μ‚¬μ©ν•¨.**

π“¥Β  **inline μµμ ν™” μ μ©**

```kotlin
inline fun handleComputation(id: String) {
    postponeComputation(1000) { println(id) } // idλ¥Ό ν¬νν•μ§€λ§ λ¬΄λ… ν΄λμ¤ μƒμ„± μ—†μ
}
```

- `inline` ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•λ©΄ **μ»΄νμΌλ¬κ°€ λλ‹¤ μμ²΄λ¥Ό μ½”λ“μ— μ‚½μ…!**
- λ”°λΌμ„ **λ¬΄λ… ν΄λμ¤κ°€ μƒμ„±λμ§€ μ•μ** β†’ **μ„±λ¥ μµμ ν™” κ°€λ¥!**

**Inlineμ μ¥μ **

1. **λ¬΄λ… ν΄λμ¤ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•μ§€ μ•μ** β†’ **λ©”λ¨λ¦¬ μ μ•½**
2. **λ©”μ„λ“ νΈμ¶ μ—†μ΄ μ½”λ“ μμ²΄λ¥Ό μ‚½μ…** β†’ **ν•¨μ νΈμ¶ μ¤λ²„ν—¤λ“ κ°μ†**
3. **λ°λ³µμ μΌλ΅ νΈμ¶λλ” κ²½μ° μ„±λ¥ κ°μ„  κ°€λ¥!**

**μ •λ¦¬**

1. **μ½”ν‹€λ¦° λλ‹¤λ” κΈ°λ³Έμ μΌλ΅ λ¬΄λ… ν΄λμ¤λ΅ λ³€ν™λ¨.**
2. **λλ‹¤κ°€ μ™Έλ¶€ λ³€μλ¥Ό ν¬νν•λ©΄, λ³€μλ¥Ό μ €μ¥ν•  ν•„λ“κ°€ μλ” μƒλ΅μ΄ κ°μ²΄κ°€ μƒμ„±λ¨.**
3. **handleComputation("Hello")λ¥Ό νΈμ¶ν•λ©΄ μƒλ΅μ΄ Runnable κ°μ²΄κ°€ μƒμ„±λ¨.**
4. **inline ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•λ©΄ λ¬΄λ… ν΄λμ¤λ¥Ό μƒμ„±ν•μ§€ μ•κ³  μµμ ν™” κ°€λ¥!**

---

## 5.4.2 SAM μƒμ„±μ : λλ‹¤λ¥Ό ν•¨μν• μΈν„°νμ΄μ¤λ΅ λ…μ‹μ μΌλ΅ λ³€κ²½

### **SAM μƒμ„±μλ€?**

- **SAM(Single Abstract Method) μΈν„°νμ΄μ¤:** **λ‹¨ ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ§ κ°€μ§„ μΈν„°νμ΄μ¤**
- μλ°”μ—μ„λ” **λλ‹¤λ¥Ό μ‚¬μ©ν•λ ¤λ©΄ ν•¨μν• μΈν„°νμ΄μ¤κ°€ ν•„μ”**, μ½”ν‹€λ¦°μ—μ„λ” **λλ‹¤λ¥Ό μ§μ ‘ ν•¨μλ΅ μ‚¬μ©**

<aside>

**μ»΄νμΌλ¬κ°€ μλ™μΌλ΅ λλ‹¤λ¥Ό ν•¨μν• μΈν„°νμ΄μ¤ λ¬΄λ… ν΄λμ¤λ΅  λ³€ν™ν•μ§€ λ»ν•λ” κ²½μ°μ—λ” μ§μ ‘ λ³€ν™μ„ λ„μ™€μ£Όλ” SAM μƒμ„±μ**λ¥Ό μ‚¬μ©ν•  μ μλ‹¤. 

</aside>

π“¥Β  **SAM μƒμ„±μλ¥Ό μ‚¬μ©ν•΄ κ°’ λ°ν™ν•κΈ°**

```kotlin
**fun createAllDoneRunnable(): Runnable {
    return Runnable { println("All done!") }
}

fun main() {
    createAllDoneRunnable().run()  // μ¶λ ¥: All done!
}**
```

- SAM μƒμ„±μμ μ΄λ¦„μ€ μ‚¬μ©ν•λ ¤λ” ν•¨μν• μΈν„°νμ΄μ¤μ μ΄λ¦„κ³Ό κ°™λ‹¤.
- SAM μƒμ„±μλ” κ·Έ ν•¨μν• μΈν„°νμ΄μ¤μ μ μΌν• μ¶”μƒ λ©”μ†λ“μ λ³Έλ¬Έμ— μ‚¬μ©ν•  λλ‹¤λ§μ„ μΈμλ΅ λ°›μ•„μ„ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤μ μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•λ‹¤.
- `Runnable { println("All done!") }` β†’ **SAM μƒμ„±μλ¥Ό μ‚¬μ©ν•΄ λλ‹¤λ¥Ό `Runnable` κ°μ²΄λ΅ λ³€ν™**
- `createAllDoneRunnable()` ν•¨μλ” `Runnable`μ„ λ°ν™ν•λ―€λ΅, `run()`μ„ νΈμ¶ν•λ©΄ `"All done!"`μ΄ μ¶λ ¥λ¨.

### **SAM μƒμ„±μκ°€ ν•„μ”ν• μ΄μ **

- **λλ‹¤λ” μµλ… ν•¨μλΌμ„ μ§μ ‘ λ°ν™ν•  μ μ—†μ.**
- **SAM μƒμ„±μλ¥Ό μ‚¬μ©ν•λ©΄, λλ‹¤λ¥Ό ν•¨μν• μΈν„°νμ΄μ¤λ΅ λ³€ν™ν•μ—¬ λ°ν™ν•  μ μμ.**
- **SAM μƒμ„±μλ¥Ό μ‚¬μ©ν•λ” μ΄μ  : μ½”ν‹€λ¦°μ—μ„ μλ°” μ½”λ“μ™€μ μƒνΈμ΄μ©μ„± λ•λ¬ΈμΌκΉ?**
    
    > SAM μƒμ„±μλ” **μ½”ν‹€λ¦°μ—μ„ μλ°”μ ν•¨μν• μΈν„°νμ΄μ¤(SAM)λ¥Ό μ‚¬μ©ν•  λ• μ£Όλ΅ ν•„μ”**ν•μ§€λ§,
    **μ½”ν‹€λ¦° μμ²΄μ μΈ μ΄μ λ΅λ„ ν•„μ”ν•  μ μλ‹¤.**
    > 
    
    **1. SAM μƒμ„±μκ°€ ν•„μ”ν• μ΄μ **
    
    μ½”ν‹€λ¦°μ—μ„λ” **ν•¨μλ¥Ό κ°’μ²λΌ λ‹¤λ£° μ μκΈ° λ•λ¬Έμ—** λλ‹¤λ¥Ό μ§μ ‘ λ°ν™ν•  μ μμ„ κ²ƒ κ°™μ§€λ§, 
    
    **μλ°”μ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ°ν™ν•΄μ•Ό ν•λ” κ²½μ°μ—λ” λ³€ν™ κ³Όμ •μ΄ ν•„μ”ν•λ‹¤!**
    
    π“¥Β Β **μλ°”μ—μ„ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” κ²½μ°**
    
    ```java
    @FunctionalInterface
    interface Runnable {
        void run();
    }
    
    public class JavaInterop {
        public static Runnable getRunnable() {
            return () -> System.out.println("Hello from Java!");
        }
    }
    ```
    
    - `Runnable`μ€ **μλ°”μ ν•¨μν• μΈν„°νμ΄μ¤ (SAM)**
    - `getRunnable()` β†’ **λλ‹¤λ¥Ό λ°ν™ν•μ§€λ§, `Runnable` νƒ€μ…μΌλ΅ λ³€ν™ν•΄μ•Ό ν•¨!**
    
    **2. μ½”ν‹€λ¦°μ—μ„λ” λλ‹¤λ¥Ό μ§μ ‘ λ°ν™ν•  μ μ—†μ„κΉ?**
    
    μ½”ν‹€λ¦°μ—μ„λ” **λλ‹¤ μμ²΄λ¥Ό μ§μ ‘ λ°ν™ν•λ” κ²ƒμ€ λ¶κ°€λ¥ν•λ‹¤!** μ½”ν‹€λ¦°μ—μ„ λλ‹¤λ” 
    
    **μΌλ°μ μΈ κ°μ²΄κ°€ μ•„λ‹λΌ "μµλ… ν•¨μ(Anonymous Function)"λ΅ μ²λ¦¬**λκΈ° λ•λ¬Έμ΄λ‹¤.
    
    π“¥.Β  **μλ»λ μ½”λ“ (μ»΄νμΌ μ¤λ¥ λ°μƒ)**
    
    ```kotlin
    fun createAllDoneRunnable(): Runnable {
        return { println("All done!") }  // μ¤λ¥ λ°μƒ
    }
    ```
    
    - `return { println("All done!") }` β†’ **λλ‹¤λ” `Runnable`μ΄ μ•„λ‹λ―€λ΅ λ°ν™ λ¶κ°€λ¥ν•λ‹¤**
    - μ½”ν‹€λ¦°μ—μ„λ” λλ‹¤λ¥Ό λ°ν™ν•  μ μ—†κΈ° λ•λ¬Έμ—, **λ°λ“μ‹ λ³€ν™ κ³Όμ •μ΄ ν•„μ”ν•¨.**
    
    **β‡’ κ·Έλμ„ SAM μƒμ„±μλ¥Ό μ‚¬μ©ν•λ©΄ ν•΄κ²°ν•  μ μλ‹¤!**
    
    **3. SAM μƒμ„±μλ¥Ό μ‚¬μ©ν•λ©΄ ν•΄κ²° κ°€λ¥!**
    
    ```kotlin
    fun createAllDoneRunnable(): Runnable {
        return Runnable { println("All done!") }  // μ¬λ°”λ¥Έ μ½”λ“
    }
    ```
    
    - `Runnable { println("All done!") }`
    
    β†’ **SAM μƒμ„±μκ°€ λλ‹¤λ¥Ό `Runnable`λ΅ λ³€ν™ν•΄μ¤.**
    
    - μ΄λ ‡κ² ν•λ©΄ **μ½”ν‹€λ¦°μ—μ„ λλ‹¤λ¥Ό μλ°”μ ν•¨μν• μΈν„°νμ΄μ¤λ΅ λ³€ν™ν•  μ μμ!**
    
    **4. SAM μƒμ„±μκ°€ κΌ­ μλ°” μ½”λ“μ™€ κ΄€λ ¨μ΄ μμ„κΉ?**
    
    SAM μƒμ„±μλ” **μ£Όλ΅ μλ°” ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  λ• ν•„μ”ν•μ§€λ§,**
    
    μ½”ν‹€λ¦°μ—μ„λ„ **λλ‹¤λ¥Ό νΉμ • μΈν„°νμ΄μ¤ νƒ€μ…μΌλ΅ λ³€ν™ν•΄μ•Ό ν•  λ• μ μ©**ν•΄.
    
    π“¥Β  **μ½”ν‹€λ¦°μ—μ„ μμ²΄μ μΌλ΅ SAM μƒμ„±μκ°€ ν•„μ”ν•  μλ„ μλ‹¤!**
    
    ```kotlin
    interface MyFunctionalInterface {
        fun execute()
    }
    
    fun getFunction(): MyFunctionalInterface {
        return MyFunctionalInterface { println("Executing function!") } // β… κ°€λ¥
    }
    
    fun main() {
        getFunction().execute()  // μ¶λ ¥: Executing function!
    }
    ```
    
    - `MyFunctionalInterface { println("Executing function!") }`
    
    β†’ **SAM μƒμ„±μλ¥Ό μ‚¬μ©ν•΄ λλ‹¤λ¥Ό μΈν„°νμ΄μ¤ κµ¬ν„μ²΄λ΅ λ³€ν™!**
    
    - μ΄μ²λΌ **μλ°”κ°€ μ•„λ‹λΌλ„, ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ°ν™ν•λ ¤λ©΄ SAM μƒμ„±μκ°€ ν•„μ”ν•  μ μμ.**
    
    **5. κ²°λ΅ **
    
    1. **SAM μƒμ„±μλ” μ½”ν‹€λ¦°μ—μ„ μλ°”μ ν•¨μν• μΈν„°νμ΄μ¤(SAM)λ¥Ό μ‚¬μ©ν•  λ• ν•„μ”!**
        - `Runnable`, `Callable`, `OnClickListener` κ°™μ€ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  λ• μμ£Ό ν™μ©λ¨.
    2. **μ½”ν‹€λ¦° μμ²΄μ μΌλ΅λ„ νΉμ • ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ°ν™ν•΄μ•Ό ν•  λ• μ μ©!**
        - μλ°”κ°€ μ•„λ‹λ”λΌλ„, **λλ‹¤λ¥Ό νΉμ • μΈν„°νμ΄μ¤ νƒ€μ…μΌλ΅ λ³€ν™ν•  ν•„μ”κ°€ μμ„ λ• SAM μƒμ„±μκ°€ ν•„μ”ν•  μ μμ.**
    3. **λλ‹¤λ” μΈν„°νμ΄μ¤κ°€ μ•„λ‹λ―€λ΅ μ§μ ‘ λ°ν™ν•  μ μ—†μ.**
        - `return { ... }` β†’ μ¤λ¥ λ°μƒ
        - `return Runnable { ... }` β†’  μ¬λ°”λ¥Έ λ°©λ²• (SAM μƒμ„±μ μ‚¬μ©)

π“¥Β  **SAM μƒμ„±μλ΅ λ¦¬μ¤λ„ μΈμ¤ν„΄μ¤ μ¬μ‚¬μ©ν•κΈ°**

```kotlin
val listener = OnClickListener { view ->
    val text = when (view.id) {
        R.id.button1 -> "First button"
        R.id.button2 -> "Second button"
        else -> "Unknown button"
    }
    toast(text)
}

// κ°™μ€ λ¦¬μ¤λ„λ¥Ό μ—¬λ¬ λ²„νΌμ— μ μ© κ°€λ¥!
button1.setOnClickListener(listener)
button2.setOnClickListener(listener)
```

- λ²„νΌ ν΄λ¦­ λ¦¬μ¤λ„ κ°™μ€ μ΄λ²¤νΈ λ¦¬μ¤λ„λ¥Ό μ—¬λ¬ κ°μ UI μ”μ†μ—μ„ κ³µμ ν•΄μ•Ό ν•  λ•,
- SAM μƒμ„±μλ¥Ό μ‚¬μ©ν•λ©΄ **ν•λ‚μ λ¦¬μ¤λ„ μΈμ¤ν„΄μ¤λ¥Ό μ¬μ‚¬μ©**ν•  μ μμ–΄.
- `OnClickListener { view -> ... }` β†’ **SAM μƒμ„±μλ΅ `OnClickListener` κ°μ²΄ μƒμ„±**
- `listener` λ³€μμ— μ €μ¥ν•μ—¬ μ—¬λ¬ λ²„νΌμ—μ„ μ¬μ‚¬μ© κ°€λ¥!
- `button1`κ³Ό `button2`μ— **λ™μΌν• λ¦¬μ¤λ„λ¥Ό μ„¤μ •**ν•  μ μμ.

π“ **SAM μƒμ„±μμ μ¥μ **

- **μ—¬λ¬ UI μ”μ†μ—μ„ κ°™μ€ λ¦¬μ¤λ„λ¥Ό μ¬μ‚¬μ© κ°€λ¥** β†’ **λ©”λ¨λ¦¬ μ μ•½ & μ½”λ“ μ¤‘λ³µ κ°μ†**
- **μ»΄νμΌλ¬κ°€ μλ™ λ³€ν™ν•μ§€ λ»ν•λ” κ²½μ° λ…μ‹μ μΌλ΅ λ³€ν™ κ°€λ¥**

π“¥Β  **λ¦¬μ¤λ„ λ“±λ΅/ν•΄μ **

```kotlin
val listener = object : OnClickListener {
    override fun onClick(view: View) {
        println("Button clicked!")
    }
}

button.setOnClickListener(listener)
button.setOnClickListener(null)  // λ¦¬μ¤λ„ ν•΄μ 

```

- λλ‹¤μ—λ” **λ¬΄λ… κ°μ²΄μ™€ λ‹¬λ¦¬ `this`κ°€ μ—†κΈ° λ•λ¬Έμ—**, **λ¦¬μ¤λ„ λ“±λ΅/ν•΄μ κ°€ μ–΄λ ¤μΈ μ μλ‹¤!**
- μ΄λ΄ λ•λ” **λ¬΄λ… κ°μ²΄λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ‹¤!**
- `object : OnClickListener { ... }` β†’ **λ¬΄λ… κ°μ²΄λ¥Ό μ‚¬μ©ν•΄μ„ λ¦¬μ¤λ„λ¥Ό λ“±λ΅**
- `button.setOnClickListener(null)` β†’ **λ“±λ΅ν• λ¦¬μ¤λ„λ¥Ό ν•΄μ  κ°€λ¥**

π“ **μ΄ λ°©μ‹μ΄ ν•„μ”ν• μ΄μ **

- **λλ‹¤μ—λ” `this`κ°€ μ—†μ–΄μ„, λ¦¬μ¤λ„λ¥Ό ν•΄μ ν•λ ¤λ©΄ κ°μ²΄κ°€ ν•„μ”ν•¨.**
- **λ¬΄λ… κ°μ²΄λ¥Ό μ‚¬μ©ν•λ©΄, κ°™μ€ κ°μ²΄λ¥Ό μ°Έμ΅°ν•μ—¬ λ“±λ΅/ν•΄μ  κ°€λ¥.**

### **SAM μƒμ„±μκ°€ ν•„μ”ν• κ²½μ°**

> μ»΄νμΌλ¬κ°€ μλ™ λ³€ν™ν•΄ μ¤„ μ μ—†λ” κ²½μ°μ—λ” λ…μ‹μ μΌλ΅ SAM μƒμ„±μλ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.
> 
- μλ¥Ό λ“¤μ–΄
    1. **λλ‹¤λ¥Ό λ°ν™ν•΄μ•Ό ν•  λ• (`return` ν‚¤μ›λ“ μ‚¬μ©)**
    2. **μ—¬λ¬ UI μ”μ†μ—μ„ κ°™μ€ λ¦¬μ¤λ„λ¥Ό κ³µμ ν•  λ•**
    3. **λλ‹¤μ— `this`κ°€ μ—†μ–΄μ„ νΉμ • κ°μ²΄λ¥Ό μ°Έμ΅°ν•΄μ•Ό ν•  λ•**
