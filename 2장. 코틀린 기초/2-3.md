
# ğŸ“Œ 2.3 ì„ íƒ í‘œí˜„ê³¼ ì²˜ë¦¬: `enum`ê³¼ `when`

> **ğŸ’¡ `when`ì€ ìë°”ì˜ `switch`ë¥¼ ëŒ€ì²´í•˜ë©°, ë”ìš± ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.**  
> ì´ë¥¼ ì„¤ëª…í•˜ëŠ” ê³¼ì •ì—ì„œ **ì½”í‹€ë¦°ì—ì„œ `enum`ì„ ì„ ì–¸í•˜ëŠ” ë°©ë²•ê³¼ ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŒ…**ë„ í•¨ê»˜ ì‚´í´ë³¸ë‹¤.  

---

## ğŸŸ¢ 2.3.1 `enum` í´ë˜ìŠ¤ ì •ì˜

```kotlin
enum class Color {
    RED, ORANGE, YELLOW, GREEN, BLUE, INDIGO, VIOLET
}
```

### ğŸ”¹ ì½”í‹€ë¦°ì˜ `enum` íŠ¹ì§•
- **`enum class` ì‚¬ìš©:** ì½”í‹€ë¦°ì—ì„œëŠ” `enum class`ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ìë°”ì—ì„œëŠ” `enum`ì„ ì‚¬ìš©í•œë‹¤.
- **ì†Œí”„íŠ¸ í‚¤ì›Œë“œ:** `enum`ì€ ë‹¨ìˆœí•œ ê°’ ë‚˜ì—´ì´ ì•„ë‹ˆë¼, ë‚´ë¶€ì— **í”„ë¡œí¼í‹°ë‚˜ ë©”ì†Œë“œ**ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

### ğŸ”¹ `enum` í´ë˜ìŠ¤ì— í”„ë¡œí¼í‹° ì¶”ê°€

```kotlin
enum class Color(val r: Int, val g: Int, val b: Int) {
    RED(255, 0, 0), ORANGE(255, 165, 0),
    YELLOW(255, 255, 0), GREEN(0, 255, 0), BLUE(0, 0, 255),
    INDIGO(75, 0, 130), VIOLET(238, 130, 238);

    fun rgb() = (r * 256 + g) * 256 + b
}
```

### âœ… `enum` í´ë˜ìŠ¤ í™œìš© ì‹œ ì£¼ì˜í•  ì 
1. **ìƒì„±ìì™€ í”„ë¡œí¼í‹°ë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.**
2. **ê° `enum` ìƒìˆ˜ë¥¼ ì •ì˜í•  ë•Œ, í”„ë¡œí¼í‹° ê°’ì„ ë°˜ë“œì‹œ ì§€ì •í•´ì•¼ í•œë‹¤.**
3. **ë©”ì†Œë“œë¥¼ ì •ì˜í•  ê²½ìš° `enum` ìƒìˆ˜ ëª©ë¡ê³¼ ë©”ì†Œë“œ ì •ì˜ ì‚¬ì´ì— `;`(ì„¸ë¯¸ì½œë¡ ) í•„ìˆ˜!**  
   â†’ ì½”í‹€ë¦°ì—ì„œ ì„¸ë¯¸ì½œë¡ ì´ í•„ìˆ˜ì ì¸ ëª‡ ì•ˆ ë˜ëŠ” ê²½ìš° ì¤‘ í•˜ë‚˜.

---

## ğŸŸ  `when` í‘œí˜„ì‹

> **ğŸ’¡ ì½”í‹€ë¦°ì—ì„œ `when`ì€ `if`ì™€ ìœ ì‚¬í•˜ê²Œ ê°’ì„ ë°˜í™˜í•˜ëŠ” **í‘œí˜„ì‹(expression)** ì´ë‹¤.**  
> `switch`ë¬¸ê³¼ ë‹¬ë¦¬ `break`ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìœ¼ë©°, **ë” ìœ ì—°í•œ íŒ¨í„´ ë§¤ì¹­**ì„ ì§€ì›í•œë‹¤.

### ğŸ”¹ ê¸°ë³¸ì ì¸ `when` ì‚¬ìš© ì˜ˆì‹œ

```kotlin
fun getMnemonic(color: Color) = when (color) {
    Color.RED -> "Richard"
    Color.ORANGE -> "Of"
    Color.YELLOW -> "York"
    Color.GREEN -> "Gave"
    Color.BLUE -> "Battle"
    Color.INDIGO -> "In"
    Color.VIOLET -> "Vain"
}
```

âœ… **ìë°”ì™€ ë‹¬ë¦¬ ê° ë¶„ê¸°ì˜ ëì— `break`ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ ëœë‹¤.**

---

### ğŸ”¹ ì—¬ëŸ¬ ì¡°ê±´ì„ í•˜ë‚˜ì˜ ë¶„ê¸°ë¡œ ë¬¶ê¸°

```kotlin
fun getWarmOrCold(color: Color) = when (color) {
    Color.RED, Color.ORANGE, Color.YELLOW -> "ë”°ëœ»í•œ ìƒ‰"
    Color.GREEN, Color.BLUE, Color.INDIGO, Color.VIOLET -> "ì°¨ê°€ìš´ ìƒ‰"
}
```

âœ… **í•œ ë¶„ê¸°ì—ì„œ ì—¬ëŸ¬ ê°’ì„ ë§¤ì¹˜í•˜ë ¤ë©´ `,`(ì½¤ë§ˆ)ë¡œ êµ¬ë¶„í•˜ë©´ ëœë‹¤.**

---

### ğŸ”¹ `when`ì˜ ë‹¤ì–‘í•œ íŒ¨í„´ ë§¤ì¹­

```kotlin
fun mixColors(c1: Color, c2: Color): Color? {
    return when (setOf(c1, c2)) {
        setOf(Color.RED, Color.YELLOW) -> Color.ORANGE
        setOf(Color.YELLOW, Color.BLUE) -> Color.GREEN
        setOf(Color.BLUE, Color.RED) -> Color.VIOLET
        else -> null
    }
}
```

âœ… **`setOf(c1, c2)`ë¥¼ ì‚¬ìš©í•˜ë©´ ìˆœì„œì— ìƒê´€ì—†ì´ ë¹„êµ ê°€ëŠ¥!**  
ì˜ˆë¥¼ ë“¤ì–´ `setOf(Color.RED, Color.YELLOW)`ëŠ” `setOf(Color.YELLOW, Color.RED)`ì™€ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.

---

## ğŸ”µ 2.3.5 ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸: `is`ë¥¼ í™œìš©í•œ íƒ€ì… ê²€ì‚¬ì™€ ìë™ ë³€í™˜

> **ğŸ’¡ `is` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ íƒ€ì…ì„ ê²€ì‚¬í•œ í›„ ìë™ ë³€í™˜ëœë‹¤.**  
> ì´ë¥¼ **ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸(Smart Cast)**ë¼ê³  í•œë‹¤.

### ğŸ”¹ ìˆ˜ì‹(Expression) íŠ¸ë¦¬ ì˜ˆì œ

```kotlin
interface Expr
class Num(val value: Int) : Expr
class Sum(val left: Expr, val right: Expr) : Expr
```

**(1 + 2) + 4** ê°™ì€ ì—°ì‚°ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ **íŠ¸ë¦¬ êµ¬ì¡°ì˜ ìˆ˜ì‹(Expression) í´ë˜ìŠ¤**ë¥¼ ë§Œë“ ë‹¤.

---

### ğŸ”¹ ìë°” ìŠ¤íƒ€ì¼ì˜ `if-else` íƒ€ì… ê²€ì‚¬

```kotlin
fun eval(e: Expr): Int {
    if (e is Num) {
        return e.value
    } else if (e is Sum) {
        return eval(e.left) + eval(e.right)
    } else {
        throw IllegalArgumentException("Unknown expression")
    }
}
```

âœ… **ìë°”ì™€ ë‹¤ë¥´ê²Œ `is` ê²€ì‚¬ í›„, ëª…ì‹œì ì¸ `(Num)e` ìºìŠ¤íŒ…ì´ í•„ìš” ì—†ë‹¤.**  
ì½”í‹€ë¦°ì€ ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ `Num` íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•´ì¤€ë‹¤. (ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸)

---

### ğŸ”¹ `when`ì„ í™œìš©í•œ ì½”ë“œ ê°œì„ 

```kotlin
fun eval(e: Expr): Int = when (e) {
    is Num -> e.value
    is Sum -> eval(e.left) + eval(e.right)
    else -> throw IllegalArgumentException("Unknown expression")
}
```

âœ… `when`ì„ ì‚¬ìš©í•˜ë©´ ì½”ë“œê°€ ë” **ê°„ê²°í•˜ê³  ê°€ë…ì„± ì¢‹ê²Œ** ê°œì„ ëœë‹¤.

---

## ğŸ”µ 2.3.7 `if`ì™€ `when`ì˜ ë¶„ê¸°ì—ì„œ ë¸”ë¡ ì‚¬ìš©

> **ğŸ’¡ `if`ë‚˜ `when`ì—ì„œ ë¸”ë¡ì„ ì‚¬ìš©í•˜ë©´ ë¸”ë¡ì˜ ë§ˆì§€ë§‰ ë¬¸ì¥ì´ ì „ì²´ ê²°ê³¼ê°€ ëœë‹¤.**  
> ì˜ˆë¥¼ ë“¤ì–´ `eval` í•¨ìˆ˜ì—ì„œ ë¡œê·¸ë¥¼ ì¶”ê°€í•˜ë ¤ë©´ ê° ë¶„ê¸°ë¥¼ ë¸”ë¡ìœ¼ë¡œ ë§Œë“¤ê³  **ë§ˆì§€ë§‰ì— ë¶„ê¸°ì˜ ê²°ê³¼ ê°’ì„ ìœ„ì¹˜ì‹œí‚¤ë©´ ëœë‹¤.**

### ğŸ”¹ `when`ì—ì„œ ë¸”ë¡ ì‚¬ìš©í•˜ê¸°

```kotlin
fun evalWithLogging(e: Expr): Int =
    when (e) {
        is Num -> {
            println("num: ${e.value}")
            e.value
        }
        is Sum -> {
            val left = evalWithLogging(e.left)
            val right = evalWithLogging(e.right)
            println("sum: $left + $right")
            left + right
        }
        else -> throw IllegalArgumentException("Unknown expression")
    }
```

### ğŸ”¹ ì‹¤í–‰ ê²°ê³¼

```shell
>>> println(evalWithLogging(Sum(Sum(Num(1), Num(2)), Num(4))))
num: 1
num: 2
sum: 1 + 2
num: 4
sum: 3 + 4
7
```

âœ… `evalWithLogging` í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ **ì—°ì‚°ì´ ìˆ˜í–‰ëœ ìˆœì„œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.**

---

## ğŸ–¼ íŠ¸ë¦¬ í‘œí˜„ (ê·¸ë¦¼ 2.4)

ì•„ë˜ ê·¸ë¦¼ì€ `Sum(Sum(Num(1), Num(2)), Num(4))`ì´ë¼ëŠ” ìˆ˜ì‹ íŠ¸ë¦¬ë¥¼ í‘œí˜„í•œ ê²ƒì´ë‹¤.

![IMG_0480](https://github.com/user-attachments/assets/c6e50bba-4b0b-4dc8-8349-0f878e660155)

---

## âœ… ì •ë¦¬

1. **`enum class`ëŠ” í”„ë¡œí¼í‹°ì™€ ë©”ì†Œë“œë¥¼ í¬í•¨í•  ìˆ˜ ìˆë‹¤.**
2. **`when`ì€ `switch`ë³´ë‹¤ ê°•ë ¥í•˜ë©°, `if`ì²˜ëŸ¼ ê°’ì„ ë°˜í™˜í•˜ëŠ” í‘œí˜„ì‹ì´ë‹¤.**
3. **`when`ì˜ ì¸ìë¥¼ ìƒëµí•˜ë©´ `Boolean` ì¡°ê±´ì‹ì„ í™œìš©í•  ìˆ˜ ìˆì–´ ë” ìœ ì—°í•˜ë‹¤.**
4. **ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸(`is`)ë¥¼ ì‚¬ìš©í•˜ë©´ íƒ€ì… ê²€ì‚¬ í›„ ìë™ ë³€í™˜ëœë‹¤.**
5. **`when`ì—ì„œ ë¸”ë¡ì„ ì‚¬ìš©í•˜ë©´ ë§ˆì§€ë§‰ ì‹ì´ í•´ë‹¹ ë¶„ê¸°ì˜ ê²°ê³¼ê°€ ëœë‹¤.**
6. **`evalWithLogging`ì„ í†µí•´ `when`ì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ì‹œê°ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.**

---

## ğŸ“Œ ì°¸ê³  ì´ë¯¸ì§€

- **ìˆ˜ì‹ íŠ¸ë¦¬ í‘œí˜„**  
![IMG_0480](https://github.com/user-attachments/assets/854f0ac3-e048-4009-8439-445d5d45ffea)
- **íƒ€ì… ê²€ì‚¬ì™€ ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸**  
![IMG_0482](https://github.com/user-attachments/assets/8a74cfa8-07d2-4209-aeaa-0caa8420fa6a)

---
