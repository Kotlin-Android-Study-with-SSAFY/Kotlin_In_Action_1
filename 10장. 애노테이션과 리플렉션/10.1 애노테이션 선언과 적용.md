# 10-1. μ• λ…Έν…μ΄μ… μ„ μ–Έκ³Ό μ μ©

> **λ©”νƒ€λ°μ΄ν„°λ¥Ό μ„ μ–Έμ— μ¶”κ°€ν•λ©΄ μ• λ…Έν…μ΄μ…μ„ μ²λ¦¬ν•λ” λ„κµ¬κ°€ μ»΄νμΌ μ‹μ μ΄λ‚ μ‹¤ν–‰ μ‹μ μ— μ μ ν• μ²λ¦¬λ¥Ό ν•΄μ¤€λ‹¤.**
> 

## 10-1.1 μ• λ…Έν…μ΄μ… μ μ©

**μ½”ν‹€λ¦°μ—μ„λ” μλ°”μ™€ κ°™μ€ λ°©λ²•μΌλ΅ μ• λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•  μ μλ‹¤. μ μ©ν•λ ¤λ” λ€μƒ μ•μ— μ• λ…Έν…μ΄μ…μ„ λ¶™μ΄λ©΄ λλ‹¤.** 

**μμ‹ ) μ μ΄ μ λ‹› ν”„λ μ„μ›ν¬λ¥Ό μ‚¬μ©ν•λ‹¤λ©΄ ν…μ¤νΈ λ©”μ†λ“ μ•μ— @Test μ• λ…Έν…μ΄μ…μ„ λ¶™μ—¬μ•Ό ν•λ‹¤.**

```kotlin
import org.junit.*
class MyTest {
		@Test fun testTrue() {
			Assert.assertTrue(true)
		}
}
```

### π§© **@Deprecated μ• λ…Έν…μ΄μ…**

- **@Deprecated : λ” μ΄μƒ μ‚¬μ©λμ§€ μ•μ€ APIμ„μ„ ν‘μ‹**
- **replaceWith νλΌλ―Έν„° : λ€μ²΄ν•  μ μλ” μ½”λ“λ¥Ό λ…μ‹**
- **@Deprecated μ• λ…Έν…μ΄μ…μ— replaceWithλ¥Ό μ§€μ •ν•λ©΄, κ°λ°μλ” μƒλ΅μ΄ μ½”λ“λ΅ λΉ λ¥΄κ² μ „ν™(Quick Fix)κ°€λ¥ν•λ‹¤.**
- **IDEλ” μ΄λ¥Ό μ΄μ©ν•΄ Quick Fix κΈ°λ¥μ„ μ κ³µν•λ‹¤.**

```kotlin
@Deprecated("Use removeAt(index) instead.",ReplaceWith("removeAt(index)"))
fun remove(index: Int) {...}
```

### π§© **μ• λ…Έν…μ΄μ…μ μΈμ**

- **μ›μ‹ νƒ€μ…μ κ°’, λ¬Έμμ—΄, enum, ν΄λμ¤ μ°Έμ΅°, λ‹¤λ¥Έ μ• λ…Έν…μ΄μ… ν΄λμ¤, κ·Έλ¦¬κ³  μ§€κΈκΉμ§€ λ§ν• μ”μ†λ“¤λ΅ μ΄λ¤„μ§„ λ°°μ—΄μ΄ λ“¤μ–΄κ° μ μλ‹¤.**
- **ν΄λμ¤λ¥Ό μ• λ…Έν…μ΄μ… μΈμλ΅ μ§€μ •ν•  λ•λ” @MyAnnotation(MyClass::class)μ²λΌ ::classλ¥Ό ν΄λμ¤ μ΄λ¦„ λ’¤μ— λ„£μ–΄μ•Ό ν•λ‹¤.**
- **λ‹¤λ¥Έ μ• λ…Έν…μ΄μ…μ„ μΈμλ΅ μ§€μ •ν•  λ•λ” μΈμλ΅ λ“¤μ–΄κ°€λ” μ• λ…Έν…μ΄μ…μ μ΄λ¦„ μ•μ— @λ¥Ό λ„£μ§€ μ•μ•„μ•Ό ν•λ‹¤. μ„μ ReplaceWithλ„ μ• λ…Έν…μ΄μ…μ΄μ§€λ§ @λ¥Ό μ“°μ§€ μ•λ”λ‹¤.**
- **λ°°μ—΄μ„ μΈμλ΅ μ§€μ •ν•λ ¤λ©΄ @RequestMapping(path=arrayOf(β€/fooβ€, β€/barβ€))μ²λΌ arrayOf ν•¨μλ¥Ό μ‚¬μ©ν•λ‹¤.**
- **μλ°”μ—μ„ μ„ μ–Έν• μ• λ…Ένƒμ΄μ… ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ‹¤λ©΄ valueλΌλ” μ΄λ¦„μ νλΌλ―Έν„°κ°€ ν•„μ”μ— λ”°λΌ μλ™μΌλ΅ κ°€λ³€ κΈΈμ΄ μΈμλ΅ λ³€ν™λλ‹¤. @JavaAnnotaionWithArrayValue(β€abcβ€, β€fooβ€, β€barβ€)μ²λΌ arrayOf ν•¨μλ¥Ό μ“°μ§€ μ•μ•„λ„ λλ‹¤.**
- **μ• λ…Έν…μ΄μ…μ— λ„κΈ°λ” μΈμλ” μ»΄νμΌ μ‹μ μ— κ°’μ΄ ν™•μ •λμ–΄μ•Ό ν•λ‹¤. κ·Έλμ„ μΌλ° λ³€μλ‚ ν”„λ΅νΌν‹°λ” μ• λ…Έν…μ΄μ… μΈμλ΅ μ“Έ μ μ—†κ³ , λ°λ“μ‹ const valλ΅ μ„ μ–Έλ μ»΄νμΌ νƒ€μ„ μƒμμ—¬μ•Ό ν•λ‹¤.**
    
    **β οΈ const valμ€ ν΄λμ¤ μ•μ— μ„ μ–Έν•  μ μ—†κ³  νμΌ λ§¨ μ„λ‚ object μ•μ—μ„ μ„ μ–Έν•΄μ•Ό ν•λ‹¤.** 
    
    ```kotlin
    const val TEST_TIMEOUT = 100L
    
    @Test(timeout = TEST_TIMEOUT)
    fun testMethod() { ... }
    ```
    

---

## 10.1.2 μ• λ…Έν…μ΄μ… λ€μƒ

### π§© μ• **λ…Έν…μ΄μ… λ€μƒ**

- **ν”„λ΅νΌν‹°λ¥Ό μ„ μ–Έν•λ©΄, μ½”ν‹€λ¦°μ€ λ‚΄λ¶€μ μΌλ΅ μλ°” ν•„λ“(field), getter λ©”μ„λ“, setter λ©”μ„λ“ λ“±μ„ μλ™ μƒμ„±ν•λ‹¤.**
- **λ”°λΌμ„ μ• λ…Έν…μ΄μ…μ„ μ„ μ–Έν•  λ• μ–΄λ””μ— μ μ©ν• μ§€λ¥Ό λ…μ‹ν•μ§€ μ•μΌλ©΄ μ›ν•λ” κ³³μ΄ μ•„λ‹ λ‹¤λ¥Έ λ¶€λ¶„μ— μ• λ…Έν…μ΄μ…μ΄ λ¶™μ„ μ μλ‹¤.**

### π§© μ‚¬μ© μ§€μ • λ€μƒ(Site Target)

- **@λ€μƒ : μ• λ…Έν…μ΄μ… μ΄λ¦„**
- **μ• λ…Έν…μ΄μ…μ„ λ¶™μΌ κµ¬μ²΄μ  μ”μ†(ν•„λ“, λ©”μ„λ“ λ“±)λ¥Ό μ§€μ •ν•  μ μλ‹¤.**
- **getμ€ @Rule μ• λ…Έν…μ΄μ…μ„ ν”„λ΅νΌν‹° κ²ν„°μ— μ μ©ν•λΌλ” λ»μ΄λ‹¤.**

```kotlin
@get:Rule
```

### π§© **@Rule**

- **JUnitμ @Rule κΈ°λ¥**
- **ν…μ¤νΈ μ‹¤ν–‰ μ „μ— λ―Έλ¦¬ μ–΄λ–¤ μ¤€λΉ„ μ‘μ—…μ„ ν•κ±°λ‚,
ν…μ¤νΈ μ¤‘μ— νΉμ • λ™μ‘μ„ μλ™μΌλ΅ μ μ©ν•λ” ν…μ¤νΈ λ³΄μ΅° κΈ°λ¥**
- **κ·μΉ™μ„ μ§€μ •ν•λ ¤λ©΄ κ³µκ°(public) ν•„λ“λ‚ λ©”μ†λ“ μ•μ— @Ruleμ„ λ¶™μ—¬μ•Ό ν•λ‹¤.**
- **@Ruleμ€ ν•„λ“μ— μ μ©λμ§€λ§ μ½”ν‹€λ¦°μ ν•„λ“λ” κΈ°λ³Έμ μΌλ΅ λΉ„κ³µκ°μ΄κΈ° λ•λ¬Έμ— μμ™Έκ°€ λ°μƒν•λ‹¤.**
- **μ½”ν‹€λ¦°μ—μ„λ” ν”„λ΅νΌν‹°κ°€ private ν•„λ“λ¥Ό κ°€μ§€κΈ° λ•λ¬Έμ—, @Ruleμ€ @get:Ruleλ΅ getterμ— λ¶™μ—¬μ•Ό ν•λ‹¤**.

```kotlin
class HasTempFolder {
    @get:Rule
    val folder = TemporaryFolder()

    @Test
    fun testUsingTempFolder() {
        val createdFile = folder.newFile("myfile.txt")
        val createdFolder = folder.newFolder("subfolder")
        // ν…μ¤νΈ μ½”λ“
    }
}
```

### π§© **μ• λ…Έν…μ΄μ… μ‚¬μ© μ§€μ • λ€μƒ**

- **μ½”ν‹€λ¦°μ—μ„λ” ν”„λ΅νΌν‹°μ— μ• λ…Έν…μ΄μ…μ„ λ¶™μΌ λ•, μ–΄λ””μ— μ μ©ν• μ§€λ¥Ό μ„Έλ°€ν•κ² μ„ νƒν•  μ μλ‹¤.**
- **property μμ²΄λ¥Ό λ€μƒμΌλ΅ ν•λ” κ²ƒμ€ μ½”ν‹€λ¦°λ§ μ§€μ›ν•κ³ , μλ°” μ• λ…Έν…μ΄μ…μ—λ” μ‚¬μ©ν•  μ μ—†λ‹¤.**

| **λ€μƒ** | **μλ―Έ** |
| --- | --- |
| **`property`** | **ν”„λ΅νΌν‹° μ „μ²΄ (β€»μλ°”μ—μ„λ” μ‚¬μ© λ¶κ°€)** |
| **`field`** | **ν”„λ΅νΌν‹°κ°€ μƒμ„±ν•  λ°±ν‚Ή ν•„λ“(μ‹¤μ  λ°μ΄ν„° μ €μ¥ κ³µκ°„)** |
| **`get`** | **ν”„λ΅νΌν‹°μ getter λ©”μ„λ“** |
| **`set`** | **ν”„λ΅νΌν‹°μ setter λ©”μ„λ“** |
| **`receiver`** | **ν™•μ¥ ν•¨μλ‚ ν™•μ¥ ν”„λ΅νΌν‹°μ μμ‹  κ°μ²΄ νλΌλ―Έν„°** |
| **`param`** | **μƒμ„±μ νλΌλ―Έν„°** |
| **`setparam`** | **setter λ©”μ„λ“μ νλΌλ―Έν„°** |
| **`delegate`** | **μ„μ„ ν”„λ΅νΌν‹°μ μ„μ„ μΈμ¤ν„΄μ¤λ¥Ό λ‹΄λ” ν•„λ“** |
| **`file`** | **μ†μ¤ μ½”λ“ νμΌ μ „μ²΄ (νμΌ μµμƒμ„μ— λ¶™λ” μ• λ…Έν…μ΄μ…)** |

**π― μ½”ν‹€λ¦°μ€ ν”„λ΅νΌν‹°κ°€ λ‹¤μ–‘ν• κµ¬μ΅°(field, getter, setter λ“±)λ΅ ν’€μ–΄μ§€κΈ° λ•λ¬Έμ—, μ• λ…Έν…μ΄μ…μ„ μ •ν™•ν μ–΄λ””μ— λ¶™μΌμ§€ @λ€μƒ:μ• λ…Έν…μ΄μ… ν•νƒλ΅ λ…μ‹ν•  μ μλ‹¤.** 

### π§© @Suppress

- **μλ°”μ™€ λ‹¬λ¦¬ μ½”ν‹€λ¦°μ—μ„λ” μ• λ…Έν…μ΄μ… μΈμλ΅ ν΄λμ¤λ‚ ν•¨μ μ„ μ–Έμ΄λ‚ νƒ€μ… μ™Έμ— μ„μμ μ‹μ„ ν—μ©ν•λ‹¤.**
- **μ»΄νμΌλ¬ κ²½κ³ λ¥Ό λ¬΄μ‹ν•λ” μ• λ…Έν…μ΄μ…**
- **μ½”ν‹€λ¦°μ€ νƒ€μ…(List<String>)μ—λ„ μ• λ…Έν…μ΄μ…μ„ λ¶™μΌ μ μλ‹¤.**
- **κ°•μ  μΊμ¤ν…ν•λ©΄, μ»΄νμΌλ¬ κ²½κ³ λ¥Ό λ„μ°μ§€λ§ @Suppress(β€UNCHECKED_CAST)λ¥Ό λ¶™μ—¬ κ²½κ³ λ¥Ό λ¬΄μ‹ν•  μ μλ‹¤.**

```kotlin
fun test(list: List<*>) {
    @Suppress("UNCHECKED_CAST")
    val strings = list as List<String>
    // ....
}
```

### π§© ν• λ² μ½μ–΄λ³΄κΈ°

- **μ½”ν‹€λ¦°μ€ μ½”λ“λ¥Ό μλ°”λ΅ μ»΄νμΌν•  λ• μ• λ…Έν…μ΄μ…μ„ μ΄μ©ν•΄ μλ°” λ°”μ΄νΈμ½”λ“μ— μν–¥μ„ μ¤„ μ μλ‹¤.**
- **μ£Όμ” μ• λ…Έν…μ΄μ…:**
    - **`@JvmName`: μλ°” μ½”λ“μ—μ„ μ‚¬μ©ν•λ” ν•„λ“λ‚ λ©”μ„λ“ μ΄λ¦„μ„ λ³€κ²½**
    - **`@JvmStatic`: λ©”μ„λ“λ¥Ό μλ°”μ static λ©”μ„λ“μ²λΌ μ‚¬μ© κ°€λ¥ν•κ² ν•¨**
    - **`@JvmOverloads`: κΈ°λ³Έκ°’μ΄ μλ” νλΌλ―Έν„°λ¥Ό κ°€μ§„ ν•¨μμ— λ€ν•΄ μλ°”μ—μ„ μ—¬λ¬ μ¤λ²„λ΅λ“ λ²„μ „μ„ μλ™ μƒμ„±**
    - **`@JvmField`: ν”„λ΅νΌν‹°λ¥Ό public ν•„λ“λ΅ λ°”λ΅ λ…Έμ¶μ‹ν‚΄(getter/setter μ—†μ΄)**

---

## 10.1.3 μ• λ…Ένƒμ΄μ…μ„ ν™μ©ν• JSON μ§λ ¬ν™” μ μ–΄

### π§© **μ§λ ¬ν™”/μ—­μ§λ ¬ν™”**

- **μ• λ…Έν…μ΄μ…μ„ μ΄μ©ν•΄ JSON μ§λ ¬ν™”/μ—­μ§λ ¬ν™”λ¥Ό μ μ–΄ν•  μ μλ‹¤.**
- **μ§λ ¬ν™”(serialization): κ°μ²΄λ¥Ό ν…μ¤νΈ(μ: JSON) ν•νƒλ΅ λ³€ν™ν•λ” κ²ƒ**
- **μ—­μ§λ ¬ν™”(deserialization): ν…μ¤νΈ(JSON λ“±)λ¥Ό λ‹¤μ‹ κ°μ²΄λ΅ λ³µμ›ν•λ” κ²ƒ**
- **μ½”ν‹€λ¦°μ—μ„λ” Jackson, Gson κ°™μ€ λΌμ΄λΈλ¬λ¦¬λ΅ JSON λ³€ν™μ„ λ§μ΄ ν•λ©°, μ΄ κ³Όμ •μ— μ• λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•΄ μ„Έλ°€ν μ μ–΄ν•  μ μλ‹¤.**
- **μ μ΄ν‚¤λ“(Jeikid)λ” μ½”ν‹€λ¦° μ „μ© JSON μ§λ ¬ν™” λΌμ΄λΈλ¬λ¦¬λ΅, μ†μ¤ μ½”λ“κ°€ μ‘κ³  ν•™μµν•κΈ° μ‰½λ‹¤.**

### π§© κΈ°λ³Έ μ§λ ¬ν™”/μ—­μ§λ ¬ν™” κ³Όμ •

```kotlin
data class Person(val name: String, val age: Int)

val person = Person("Alice", 29)
val json = serialize(person)
println(json) // {"age":29,"name":"Alice"}

val obj = deserialize<Person>(json)
println(obj) // Person(name=Alice, age=29)
```

- **μ§λ ¬ν™”: `Person("Alice", 29)` β†’ `{"name":"Alice","age":29}` (κ°μ²΄ β†’ JSON)**
- **μ—­μ§λ ¬ν™”: `{"name":"Alice","age":29}` β†’ `Person(name=Alice, age=29)` (JSON β†’ κ°μ²΄)**
- **μ„μ μμ μ—μ„ κ°μ²΄ μΈμ¤ν„΄μ¤μ JSON ν‘ν„μ€ ν‚¤/κ°’ μμΌλ΅ μ΄λ¤„μ§„ κ°μ²΄λ¥Ό ν‘ν„ν•λ‹¤.**
- **κ°μ²΄μ ν”„λ΅νΌν‹° μ΄λ¦„μ΄ JSONμ keyλ΅ , κ°μ²΄μ κ°’μ΄ JSONμ valueλ΅ μ €μ¥λλ‹¤.**

### **π§© JSON νƒ€μ… μ •λ³΄ λ¬Έμ **

- **JSONμ—λ” κ°μ²΄ νƒ€μ… μ •λ³΄κ°€ μ €μ¥λμ§€ μ•λ”λ‹¤.**
- **μ—­μ§λ ¬ν™”ν•  λ•λ” μ–΄λ–¤ ν΄λμ¤ νƒ€μ…μΌλ΅ λ³€ν™ν• μ§€ λ…ν™•ν μ§€μ •ν•΄μ•Ό ν•λ‹¤.  
β†’ deserialize<Person>(json)**

### **π§© μ• λ…Έν…μ΄μ…μ„ ν™μ©ν• μ μ–΄**

- **κΈ°λ³Έμ μΌλ΅ ν”„λ΅νΌν‹° μ΄λ¦„ κ·Έλ€λ΅ μ§λ ¬ν™”/μ—­μ§λ ¬ν™”λλ‹¤.**
- **νΉμ • ν•„λ“λ¥Ό μ μ™Έν•κ±°λ‚ μ΄λ¦„μ„ λ°”κΎΈκ³  μ‹¶μ„λ• μ• λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ‹¤.**

| μ• λ…Έν…μ΄μ… | μ—­ν•  |
| --- | --- |
| `@JsonExclude` | μ§λ ¬ν™”/μ—­μ§λ ¬ν™” λ€μƒμ—μ„ μ μ™Έ |
| `@JsonName("alias")` | JSON ν‚¤ μ΄λ¦„μ„ λ³€κ²½ |

```kotlin
data class Person(
    @JsonName("alias") val firstName: String,
    @JsonExclude val age: Int? = null
)
```

- **`firstName`μ€ JSONμ—μ„ "alias"λΌλ” μ΄λ¦„μΌλ΅ μ €μ¥λ¨.**
- **`age`λ” JSONμ— μ €μ¥λμ§€ μ•κ³  λ¬΄μ‹λλ‹¤.**

---

## 10.1.4 μ• λ…Έν…μ΄μ… μ„ μ–Έ

### π§© μ μ΄ν‚¤λ“μ μ• λ…Έν…μ΄μ…μ„ μ„ μ–Έ λ°©μ‹

- μ½”ν‹€λ¦°μ—μ„λ” μΌλ° ν΄λμ¤ μ„ μ–Έμ²λΌ μ• λ…Έν…μ΄μ…μ„ λ§λ“¤μ§€λ§, class μ•μ— annotation ν‚¤μ›λ“λ¥Ό λ¶™μΈλ‹¤.
- μ•„λ¬΄ νλΌλ―Έν„°λ„ μ—†λ” κ°„λ‹¨ν• μ• λ…Έν…μ΄μ…

```kotlin
annotation class JsonExclude
```

- νλΌλ―Έν„°κ°€ μλ” μ• λ…Έν…μ΄μ…μ€ μ£Ό μƒμ„±μμ— valμ„ λ¶™μ—¬μ„ μ„ μ–Έν•λ‹¤.

```kotlin
annotation class JsonName(val name: String)
```

### π§© μ½”ν‹€λ¦° vs μλ°”

```java
public @interface JsonName {
		String value();
}
```

- **μ½”ν‹€λ¦°μ€ μƒμ„±μ νΈμ¶ ν•νƒ(@JsonName(β€first_nameβ€)λ¥Ό μ“°κΈ° λ–„λ¬Έμ—, valueλΌλ” μ΄λ¦„μ΄ νΉλ³„ν•μ§€ μ•λ‹¤.**
- **μλ°”μ—μ„λ” valueλΌλ” μ΄λ¦„μ΄ νΉλ³„ν•΄μ„, λ‹¤λ¥Έ μ†μ„±λ…μ€ key=valueλ΅ μ μ§€λ§ value=xxxλ” μƒλµν•  μ μλ‹¤.**

| **κµ¬λ¶„** | **μλ°”(Java)** | **μ½”ν‹€λ¦°(Kotlin)** |
| --- | --- | --- |
| **value νΉλ³„ μ·¨κΈ‰** | **μμ (valueλ” μƒλµ κ°€λ¥)** | **μ—†μ (κ·Έλƒ¥ μΌλ° νλΌλ―Έν„°)** |
| **μ‘μ„± λ°©μ‹** | **λ©”μ„λ“ κΈ°λ° (interfaceμ²λΌ)** | **μƒμ„±μ νΈμ¶ κΈ°λ° (class μƒμ„±μμ²λΌ)** |
| **μ—¬λ¬ νλΌλ―Έν„° μμ„ λ•** | **valueλ§ μƒλµ κ°€λ¥, λ‚λ¨Έμ§€λ” μ΄λ¦„ λ…μ‹ ν•„μ** | **λ¨λ‘ μ΄λ¦„μ„ λ…μ‹ν•  μ μμ (μμ )** |

---

## 10.1.5 λ©”νƒ€μ• λ…Έν…μ΄μ…: μ• λ…Έν…μ΄μ…μ„ μ²λ¦¬ν•λ” λ°©λ²• μ μ–΄

### π§© **λ©”νƒ€μ• λ…Έν…μ΄μ…**

- **μ—λ…Έν…μ΄μ… ν΄λμ¤μ— μ μ©ν•  μ μλ” μ• λ…Έν…μ΄μ…**
- **λ©”νƒ€μ• λ…Έν…μ΄μ…μ€ μ• λ…Έν…μ΄μ…μ΄ μ μ©λ  μ μλ” λ€μƒκ³Ό μ²λ¦¬ λ°©λ²•μ„ μ μ–΄**

### **π§© @Target λ©”νƒ€μ• λ…Έν…μ΄μ…**

- **μ• λ…Έν…μ΄μ…μ΄ μ μ©λ  μ μλ” μ”μ†μ μΆ…λ¥(ν΄λμ¤, ν”„λ΅νΌν‹°, λ©”μ„λ“ λ“±)λ¥Ό μ§€μ •ν•λ‹¤.**

```jsx
@Target(AnnotationTarget.PROPERY)
annotation class JsonExclude 
```

- **μ• λ…Έν…μ΄μ… ν΄λμ¤μ— λ€ν•΄ κµ¬μ²΄μ μΈ @Targetμ„ μ§€μ •ν•μ§€ μ•μΌλ©΄ λ¨λ“  μ„ μ–Έμ— μ μ©ν•  μ μλ” μ–΄λ…Έν…μ΄μ…μ΄ λλ‹¤.**
- **ν•μ§€λ§ μ μ΄ν‚¤λ“ λΌμ΄λΈλ¬λ¦¬λ” ν”„λ΅νΌν‹° μ• λ…Έν…μ΄μ…λ§μ„ μ‚¬μ©ν•λ―€λ΅ μ• λ…Έν…μ΄μ… ν΄λμ¤μ— @Targetμ„ κΌ­ μ§€μ •ν•΄μ•Ό ν•λ‹¤.**
- **AnnotationTargetμ€ μ μ© κ°€λ¥ν• λ€μƒμ„ μ •μν• enumμ΄λ©°, μ—¬λ¬ κ°λ¥Ό ν•¨κ» μ§€μ •ν•  μλ„ μλ‹¤.**

### π§© @Target(AnnotationTarget.ANNOTATION_CLASS)

- **λ©”νƒ€μ• λ…Έν…μ΄μ…μ„ μ§μ ‘ λ§λ“¤κ³  μ‹¶μ„ λ• μ‚¬μ©ν•λ‹¤.**

```jsx
@Target(AnnotationTarget.ANNOTATION_CLASS)
annotation class BindingAnnotation
@BindingAnnotation
annotation class MyBinding
```

- **PROPERTY λ€μƒμΌλ΅ μ§€μ •λ μ• λ…Έν…μ΄μ…μ€ μλ°” μ½”λ“μ—μ„λ” μ‚¬μ©ν•  μ μ—†λ‹¤.**
- **λ§μ•½ μλ°”μ—μ„λ„ μ‚¬μ©ν•κ³  μ‹¶λ‹¤λ©΄, AnnotationTarget.FIELDλ„ μ¶”κ°€ν•΄μ¤μ•Ό ν•λ‹¤.**

### π§© @**Retention μ• λ…Έν…μ΄μ…**

- **μ• λ…Έν…μ΄μ…μ΄ μ†μ¤ μ½”λ“, ν΄λμ¤ νμΌ, λλ” λ°νƒ€μ„ μ‹μ  μ¤‘ μ–΄λ””κΉμ§€ μ μ§€λ μ§€λ¥Ό μ§€μ •ν•λ” λ©”νƒ€μ• λ…Έν…μ΄μ…μ΄λ‹¤.**
- **κΈ°λ³Έμ μΌλ΅ μ• λ…Έν…μ΄μ…μ€ .class νμΌμ—λ” μ €μ¥λμ§€λ§, λ°νƒ€μ„μ—μ„λ” μ‚¬μ©ν•  μ μ—†λ‹¤.**
- **μ½”ν‹€λ¦°μ—μ„λ” κΈ°λ³Έμ μΌλ΅ @Retention(RUNTIME)μΌλ΅ μ„¤μ •λλ‹¤.**
- **λ”°λΌμ„ μ μ΄ν‚¤νΈ(JetBrains kotlinx λ“±) λΌμ΄λΈλ¬λ¦¬μ—μ„λ” λ³„λ„λ΅ @Retentionμ„ λ¶™μΌ ν•„μ”κ°€ μ—†λ‹¤.**

 

---

## **10.1.6 μ• λ…Έν…μ΄μ… νλΌλ―Έν„°λ΅ ν΄λμ¤ μ‚¬μ©**

- **μ• λ…Έν…μ΄μ…μ— ν΄λμ¤λ¥Ό νλΌλ―Έν„°λ΅ λ„κΈΈ μ μλ‹¤.**
- **μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ¥Ό μ§μ ‘ λ§λ“¤ μλ” μ—†λ‹¤.**
- **λ”°λΌμ„ μ—­μ§λ ¬ν™” μ‹ μ–΄λ–¤ ν΄λμ¤λ¥Ό μ‚¬μ©ν•΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• μ§€λ¥Ό μ§€μ •ν•  μ μμ–΄μ•Ό ν•λ‹¤.**

### **π§© @DeserializeInterface**

- **μλ¥Ό λ“¤μ–΄ @DeserializeInterfaceλ” μΈν„°νμ΄μ¤ νƒ€μ…μ ν”„λ΅νΌν‹°μ— λ€ν•΄, κµ¬μ²΄μ μΈ κµ¬ν„ ν΄λμ¤λ¥Ό λ…μ‹ν•  λ• μ‚¬μ©ν•λ‹¤.**
- **μ—­μ§λ ¬ν™” μ‘μ—…μ„ ν•  λ•, μΈν„°νμ΄μ¤λ” μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤ μ μ—†κΈ° λ•λ¬Έμ— κµ¬ν„μ²΄λ¥Ό μ§€μ •ν•΄μ¤μ•Ό ν•λ‹¤.**
- **ν΄λμ¤λ¥Ό μ°Έμ΅°ν•  λ•λ” ν΄λμ¤λ…::class ν•μ‹μΌλ΅ λ„κΈ΄λ‹¤.**

```kotlin
interface Company {
    val name: String
}

data class CompanyImpl(override val name: String) : Company

data class Person(
    val name: String,
    @DeserializeInterface(CompanyImpl::class)
    val company: Company
)
```

```kotlin
@DeserializeInterface(CompanyImpl::class)
val company: Company
```

- **DeserializeInterface μ• λ…Έν…μ΄μ…μ€ ν΄λμ¤ νƒ€μ…μ„ λ°›μ„ μ μλ„λ΅ KClass<out Any> νƒ€μ…μΌλ΅ νλΌλ―Έν„°λ¥Ό μ •μν•λ‹¤.**

```jsx
annotation class DeserializeInterface(val targetClass: KClass<out Any>)
```

- **KClassλ” Kotlinμ ν΄λμ¤ μ°Έμ΅° νƒ€μ…, μλ°”μ Classμ™€ λΉ„μ·**
- **KClassμ νƒ€μ… νλΌλ―Έν„°λ¥Ό μ“Έ λ• out λ³€κ²½μ μ—†μ΄ KClass<Any>λΌκ³  μ“°λ©΄ DeserializInterfaceμ—κ² CompanyImpl::classλ¥Ό μΈμλ΅ λ„κΈΈ μ μ—†κ³  μ¤μ§ Any::classλ§ λ„κΈΈ μ μλ‹¤.**
- **out ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•΄μ„ λ¨λ“  νƒ€μ…(T) ν™•μ¥μ„ ν—μ©ν•κ² λ§λ“¤μ–΄μ•Ό, κµ¬μ²΄μ μΈ ν΄λμ¤ νƒ€μ…(CompanyImpl)μ„ μ•μ „ν•κ² λ„κΈΈ μ μλ‹¤.**
- **μ• λ…Έν…μ΄μ… νλΌλ―Έν„°λ΅ ν΄λμ¤ μ „λ‹¬ β†’ KClass μ‚¬μ©**
- **κµ¬ν„μ²΄ ν΄λμ¤λ¥Ό μ „λ‹¬ν•  λ• β†’ ::class λ¬Έλ²• μ‚¬μ©**
- **νƒ€μ… ν™•μ¥ ν—μ© β†’ out Any λ…μ‹**

---

## **10.1.7 μ• λ…Έν…μ΄μ… νλΌλ―Έν„°λ΅ μ λ„¤λ¦­ ν΄λμ¤ λ°›κΈ°**

- **μ μ΄ν‚¤λ“λ” μ›μ‹ νƒ€μ…μ΄ μ•„λ‹ ν”„λ΅νΌν‹°λ¥Ό μ¤‘μ²©λ κ°μ²΄λ΅ μ§λ ¬ν™”ν•λ‹¤.**
- **κΈ°λ³Έ λ™μ‘ λ€μ‹ , νΉμ • νƒ€μ…μ— λ€ν•΄ μ»¤μ¤ν…€ μ§λ ¬ν™” λ΅μ§μ„ μ μ©ν•κ³  μ‹¶μ„ λ• μ‚¬μ©**
- **Date νƒ€μ…μ„ JSONμΌλ΅ λ³€ν™ν•  λ• ν¬λ§·μ„ μ»¤μ¤ν„°λ§μ΄μ§•ν•κ³  μ‹¶μΌλ©΄ μ§μ ‘ λ΅μ§μ„ κµ¬ν„ν•΄μ•Ό ν•λ‹¤.**

### **π§© @CustomSerializer**

- **T νƒ€μ…μ κ°’μ„ JSON ν‘ν„μΌλ΅ μ§λ ¬ν™” / μ—­μ§λ ¬ν™”ν•λ” λ©”μ„λ“ μ •μ**
- **μ»¤μ¤ν…€ μ§λ ¬ν™” ν΄λμ¤μ— λ€ν• μ°Έμ΅°λ¥Ό μΈμλ΅ λ°›λ”λ‹¤.**
- **μ΄ μ§λ ¬ν™” ν΄λμ¤λ” ValueSerializer μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄μ•Όλ§ ν•λ‹¤.**

```kotlin
interface ValueSerializer<T> {
		fun toJsonValue(value: T): Any?
		fun fromJsonValue(jsonValue: Any?) : T
}
```

### π§© λ‚ μ§ μ§λ ¬ν™”

- **ValueSerializer<Date>λ¥Ό κµ¬ν„ν•λ” DateSerializerλ¥Ό μ‚¬μ©**
- **μ΄ μ§λ ¬ν™” λ΅μ§μ„ Person ν΄λμ¤μ— μ μ©ν•λ” λ°©λ²•μ„ λ³΄μ—¬μ¤€λ‹¤.**

```kotlin
data class Person {
		val name: String, 
		@CustomSerializer(DateSerializer::class) 
		val birthDate: Date
}
```

### π§© @CustomeSerializer μ •μ

```kotlin
annotation class CustomSerializer(
		val serializerClass: KClass<out ValueSerializer<*>>
)
```

- **ν΄λμ¤ μ°Έμ΅°λ¥Ό μ• λ…Έν…μ΄μ… μΈμλ΅ λ°›κΈ° μ„ν•΄ KClass <out ValueSerializer<*>> μ‚¬μ©**
- **ValueSerializer<*>λ¥Ό μƒμ†ν• ν΄λμ¤λ§ μΈμλ΅ ν—μ©**
- **Date::classμ™€ κ°™μ€ μΌλ° ν΄λμ¤λ” κ±°λ¶€λκ³ , λ°λ“μ‹ ValueSerializerλ¥Ό κµ¬ν„ν• ν΄λμ¤λ§ ν—μ©**

**λ¦¬ν”λ™μ…μ„ μ‚¬μ©ν•΄μ•Ό μ• λ…Έν…μ΄μ…μ— μ €μ¥λ λ°μ΄ν„°μ— μ ‘κ·Όν•  μ μλ‹¤.** 

---
